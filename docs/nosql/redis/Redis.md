## 1.Redis基本知识

### 1.1.简单介绍一下Redis

1. Redis(Remote Dictionary Server) 是一个使用 **C 语言**编写的，开源的（BSD许可）高性能**非关系型**（NoSQL）的**键值对**数据库。Redis 可以存储键和五种不同类型的值之间的映射。键的类型只能为字符串，值支持五种数据类型：string、hash、list、set、zset（sorted set）
2. 与传统数据库不同的是 Redis 的数据是存在内存中的，采用**IO多路复用**，所以读写速度非常快，因此 redis 被广泛应用于缓存方向，每秒可以处理超过 10万次读写操作，是已知性能最快的Key-Value DB。另外，Redis 也经常用来做分布式锁。除此之外，Redis 支持事务 、持久化、LUA脚本、LRU驱动事件、多种集群方案。

### 1.2.Redis的优缺点

- 优点

- - 读写性能优异， Redis能读的速度是110000次/s，写的速度是81000次/s。
  - 支持数据持久化，支持AOF和RDB两种持久化方式。
  - 支持事务，Redis的所有操作都是原子性的，同时Redis还支持对几个操作合并后的原子性执行。
  - 数据结构丰富，除了支持string类型的value外还支持hash、set、zset、list等数据结构。
  - 支持主从复制，主机会自动将数据同步到从机，可以进行读写分离。

- 缺点

- - 数据库容量受到物理内存的限制，不能用作海量数据的高性能读写，因此Redis适合的场景主要局限在较小数据量的高性能操作和运算上。
  - Redis 不具备自动容错和恢复功能，主机从机的宕机都会导致前端部分读写请求失败，需要等待机器重启或者手动切换前端的IP才能恢复。
  - 主机宕机，宕机前有部分数据未能及时同步到从机，切换IP后还会引入数据不一致的问题，降低了系统的可用性。
  - Redis 较难支持在线扩容，在集群容量达到上限时在线扩容会变得很复杂。为避免这一问题，运维人员在系统上线时必须确保有足够的空间，这对资源造成了很大的浪费。

## 1.3.为什么我们要使用Redis而不直接操作内存？

- 主要可以从两方面入手：一个是横向的共享问题，一个是纵向的扩容问题
- **共享问题**：放在本地内存中，当你一台服务器不够用，需要负载均衡的时候，如何把你本地数据共享给其他服务器呢？每个服务器维护一份数据不是很浪费？如果要重新开一个协议去处理这个问题，那么和Redis的实现方式有什么区别？又要踩一遍Redis踩过的坑，重复造轮子。
- **扩容问题**：内存不够扩容问题怎么办？
- **备份问题**：突然宕机怎么处理数据备份问题

## 1.4.Redis的数据类型

<img src="../../../pictures/nosql/redis/Redis数据类型.png" alt="Image" style="zoom:150%;" />

### 1.5.Redis的持久化机制

